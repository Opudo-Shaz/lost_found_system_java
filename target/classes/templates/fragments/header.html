<header xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" th:fragment="header">
    <header id="header" class="header d-flex align-items-center sticky-top bg-light shadow-sm">
        <div class="container-fluid position-relative d-flex align-items-center justify-content-between">
            <a th:href="@{/}" class="logo d-flex align-items-center me-auto me-xl-0">
                <!-- Logo text -->
                <img th:src="@{/img/logo.jpg}" alt="Logo" class="logo-img" width="100" height="50"/>
            </a>

            <nav id="navmenu" class="navmenu">
                <ul>
                    <li>
                        <a th:href="@{/}" class="active" aria-current="page">Home</a>
                    </li>
                    <li>
                        <a th:href="@{/lost-items}">Lost Items</a>
                    </li>
                    <li>
                        <a th:href="@{/found-items}">Found Items</a>
                    </li>
                    <li>
                        <a href="#about">About</a>
                    </li>
                    <li>
                        <a href="#contact">Contact</a>
                    </li>

                    <!-- Conditionally display Login/Logout link based on authentication status -->
                    <li sec:authorize="isAuthenticated()">
                        <a th:href="@{/logout}" class="logout-link">Logout</a>
                    </li>

                    <!-- Conditionally show Login/Signup if not logged in -->
                    <li sec:authorize="!isAuthenticated()">
                        <a th:href="@{/login}">Login</a>
                    </li>
                    <li sec:authorize="!isAuthenticated()">
                        <a th:href="@{/register}">Sign Up</a>
                    </li>

                </ul>
                <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
            </nav>
        </div>

            <div sec:authorize="isAuthenticated()" class="user-profile">
                    <!-- Display user avatar -->
                    <img th:src="@{${#authentication.principal.avatarImage != null ? #authentication.principal.avatarImage : '/img/avatar.png'}}"
                         alt="User Avatar" class="user-avatar rounded-circle" width="40" height="40"  src="img/avatar.png"/>

                    <!-- Display user username -->
                    <span th:text="${#authentication.principal.username}" class="ms-2"></span>

                    <!-- Display user role -->
                    <span th:text="' (' + ${#authentication.principal.role} + ')'" class="ms-1"></span>
            </div>


    </header>
</header>

